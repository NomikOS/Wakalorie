/**  * @fileOverview setup datastore class, attributes, events for Food * @author Welsh Harris * @created 07/20/2013 * * @name Wakalorie * @copyright (c) 2013 CoreBits DataWorks LLC * @license Released under the MIT license (included in distribution in MIT LICENSE.txt) *///-------------------------------------------------------------------------//dataclass //-------------------------------------------------------------------------model.Food = new DataClass("Foods", "public");//-------------------------------------------------------------------------//storage//-------------------------------------------------------------------------model.Food.id = new Attribute("storage", "long", "key auto");model.Food.name = new Attribute("storage", "string", "btree");model.Food.calories = new Attribute("storage", "long");model.Food.userUUID = new Attribute("storage", "string", "btree");//-------------------------------------------------------------------------//calculated//-------------------------------------------------------------------------//-------------------------------------------------------------------------//alias//-------------------------------------------------------------------------//-------------------------------------------------------------------------//relatedEntity//-------------------------------------------------------------------------//-------------------------------------------------------------------------//relatedEntities//-------------------------------------------------------------------------//-------------------------------------------------------------------------//attribute event//-------------------------------------------------------------------------//-------------------------------------------------------------------------//datastore class event//-------------------------------------------------------------------------model.Food.events.onSave = function() {	this.userUUID = currentSession().user.ID;}model.Food.events.onRestrictingQuery = function() {	return require("auth").allEntities(this.getName());}