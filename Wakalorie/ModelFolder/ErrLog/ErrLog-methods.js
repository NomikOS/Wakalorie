/**  * @fileOverview methods for the ErrLog datastore class * @author Welsh Harris * @created 11/08/2013 * * @name CalorieCounter * @copyright (c) 2013 CoreBits DataWorks LLC * @license Released under the MIT license (included in distribution in MIT LICENSE.txt) *///-------------------------------------------------------------------------//entity //-------------------------------------------------------------------------//-------------------------------------------------------------------------//collection //-------------------------------------------------------------------------//-------------------------------------------------------------------------//class //-------------------------------------------------------------------------//record an error that occurred on the servermodel.ErrLog.entityMethods.errOnServer = function (name, func, file, errInfo) {	"use strict";		errInfo = errInfo || ""; //errInfo is optional		var level = "",		errDefEntity = {},		errEntity = {};		//get the error definition	errDefEntity = ds.ErrDef.find("name = :1", name);	if (errDefEntity !== null) {		level = errDefEntity.level;	}		//create the err log entity	errEntity = ds.ErrLog.createEntity();	errEntity.dts = new Date();	errEntity.userName = currentSession().user.name;	errEntity.errorName = name;	errEntity.errorInfo = errInfo;	errEntity.source = "server";	errEntity.env = "";	errEntity.jsFunction = func;	errEntity.jsFile = file;	errEntity.level = level;	errEntity.isEmailed = false;	errEntity.save();}model.ErrLog.entityMethods.errOnServer.scope ="publicOnServer";