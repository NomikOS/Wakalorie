/**  * @fileOverview Server side authorization module * @author Welsh Harris * @created 10/18/2013 * * @name Wakalorie * @copyright (c) 2013 CoreBits DataWorks LLC * @license Released under the MIT license (included in distribution in MIT LICENSE.txt) */"use strict";//get a collection of all the entities the current user is allowed to see//(used by onRestrictingQuery datastore class events)exports.allEntities = function(dsName) {	var session = currentSession(),		coll = ds[dsName].createEntityCollection(); //default to an empty collection		//load all entities the current user is allowed to see	switch (dsName) {				case dsName = "User":			if (session.belongsTo("Admin")) {				coll = ds.User.all();			}			break;	}		//return the collection	return coll;	}//limit specific functionality to certain groupsexports.userCan = function(action) {	var session = currentSession();		can = false;		switch (action) {				case "Whatever": //this is just a placeholder until I have something real to pass			if (session.belongsTo === "Admin") {				can = true;			}			break;					default:			//welsh, need to record an error here	}		return can;}